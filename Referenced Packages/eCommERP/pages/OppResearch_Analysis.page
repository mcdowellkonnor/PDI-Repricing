<apex:page standardController="serp__Opportunity__c"
	extensions="serp.OppResearch_Analysis" sidebar="false" showHeader="true">
	<style>
.ct {
	text-align: center;
}

.redBlock,.yellowBlock,.greenBlock {
	/*font-weight:bold;*/
	
}

.redBlock {
	color: rgb(156, 0, 6);
	background-color: rgb(255, 199, 206);
}

.yellowBlock {
	color: rgb(156, 101, 0);
	background-color: rgb(255, 235, 156);
}

.greenBlock {
	color: rgb(0, 97, 0);
	background-color: rgb(198, 239, 206);
}

.draghandle.dragged {
	border-left: 1px solid #333;
}

.draghandle {
	position: absolute;
	z-index: 5;
	width: 5px;
	cursor: e-resize;
}

TH {
	border-left: 1px solid #333;
	border-bottom: 1px solid #333;
}

table.tablesorter thead tr th,table.tablesorter tfoot tr th {
	background-color: #F3F3EC;
	border: 2px solid #A0BEBE;
	font-size: 8pt;
	padding: 4px;
}

table.tablesorter tbody td {
	color: #F3F3EC;
	padding: 4px;
	background-color: white;
	vertical-align: top;
}

body .pbBody table.list tr.headerRow td,body .pbBody table.list tr.headerRow th
	{
	background: white url('/img/alohaSkin/grid_headerbg.gif') 0 bottom
		repeat-x;
	border-width: 0 0 1px 1px;
	color: black;
	font-size: .9em;
	font-weight: bold;
	padding: 5px 2px 4px 5px;
}

table.tablesorter thead tr .headerSortDown,table.tablesorter thead tr .headerSortUp
	{
	background-color: #F3F3EC;
}

body .bPageBlock,body #bodyCell .bResource .secondaryPalette,body .secondaryPalette.bPageBlock,body .individualPalette .secondaryPalette.bPageBlock,body .bodyDiv .genericTable,body .genericPageBlockTable,body .bodyDiv .bSubBlock,body .bComponentBlock .bPageBlock,body .bMyDashboard .bPageBlock,body.rlHoverFrame .bPageBlock,body.subjectSelectionPopup div.choicesBox,body.lookupTab .secondaryPalette.bPageBlock,body.popupTab .secondaryPalette.bPageBlock,body.UserTagStatsPage .secondaryPalette.bPageBlock
	{
	background-color: white;
	border-bottom: white;
	border-left: white;
	border-right: white;
	-moz-border-radius: 0px;
	-webkit-border-radius: 0px;
	border-radius: 0px;
}

.bPageBlock {
	border-top: white;
	margin-bottom: 9px;
	background-color: #222;
	background-image: url(/img/bgPageBlockLeft.gif);
	background-repeat: no-repeat;
	background-position: left bottom;
	padding-bottom: 9px;
	clear: both;
}

table.list thead tr th,table.tablesorter tfoot tr th {
	background-color: #F3F3EC;
	border: 2px solid #A0BEBE;
	font-size: 8pt;
	padding: 5px;
}

//
table.editClass thead tr.filters { //
	display: none;
	//
}

.background {
	background-color: #e3f3ff !important;
}

body .pbBody table.list tr td {
	border: 1px solid #ededed !important;
}

table.list.big thead tr th {
	font-size: 14px !important;
}
</style>
	<head>
<script type="text/javascript" src="{!URLFOR($Resource.jQuery)}"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"
	type="text/javascript"></script>
<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript"
	src="{!URLFOR($Resource.TableSorter, 'jquery.tablesorter.js')}"></script>
<apex:includeScript value="{!$Resource.serp__javascrpt}" />
<apex:stylesheet value="{!URLFOR($Resource.serp__Tablesorter, 'style.css')}" />
<script type="text/javascript">
function updatdiv(ele)
{
    var xy = ele.val();
    ele.prev('div').html(xy);
}





</script>
<script type="text/javascript">
        function selectAllCheckboxes(obj,receivedInputID){
            var inputCheckBox = document.getElementsByTagName("input");                 
            for(var i=0; i<inputCheckBox.length; i++){          
                if(inputCheckBox[i].id.indexOf(receivedInputID)!=-1){                                   
                    inputCheckBox[i].checked = obj.checked;
                }
            }
        }
    </script>

	</head>
	<!--------------------Script for clicking on cell to check the checkbox----------------------------------------->
	<script type="text/javascript">
            function onload() {
                var tds = document.getElementsByTagName("td");
                for(var i = 0; i < tds.length; i++) {
                    tds[i].onclick = 
                                    function(td) { 
                                        return function() { 
                                            tdOnclick(td); 
                                        }; 
                                    }(tds[i]); 
                }
                var inputs = document.getElementsByTagName("input");
                for(var i = 0; i < inputs.length; i++) {
                    inputs[i].onclick = 
                                    function(input){ 
                                        return function() { 
                                            inputOnclick(input); 
                                        };
                                    }(inputs[i]); 
                }
            }
            function tdOnclick(td) {
            var eventObj = (event != "undefined") ? event : window.event;
                if(eventObj.target.nodeName == "INPUT" && eventObj.target.type == "checkbox"){
                    return false;
                }
                for(var i = 0; i < td.childNodes.length; i++) {
                    if(td.childNodes[i].nodeType == 1) {
                        if(td.childNodes[i].nodeName == "INPUT") {
                            if(td.childNodes[i].checked) {
                                td.childNodes[i].checked = false;
                               // td.style.backgroundColor = "red";
                            } else {
                                td.childNodes[i].checked = true;
                               // td.style.backgroundColor = "green";
                            }
                        } else {
                            tdOnclick(td.childNodes[i]);
                        }
                    }
                }
            }
            function inputOnclick(input) {
                input.checked = !input.checked;
                return false;
            }
        </script>
	<!------------------------------------------------------------------------------------------------------------------------------>
	<Script>
   
      $(document).ready(function()
        {
            
          $("#demotable1").tablesorter({ 
             headers: { 
                17: { 
                        // disable the sort functionality on First Column
                        sorter: false 
                    } 
                } 
            }); 
       
            // Initialise Table Filter Plugin
            var options1 = {
                additionalFilterTriggers: [$('#quickfind')],
                clearFiltersControls: [$('#cleanfilters')]
            };
            //$('#demotable1').tableFilter(options2);
            //resizablejsFun();
            $(window).scroll(function(e){
                if($(this).scrollTop() > 473){
                    $('.fixedheader table').width($('.list.tablesorter.resizabletable').width())
                    $(".fixedheader").css("top",$(document).scrollTop() - 130).fadeIn('slow');
                }
                else{
                    $(".fixedheader").fadeOut('slow')
                }
            });
            $(".POQContainer input").on("keyup",function(e){
                var selector = $(this).parent().next(".entirelyClickable")
                if(!selector.find(":checkbox").is(":checked")){
                    selector.click();
                }
            });
            $(".SCQContainer input").on("keyup",function(e){
                var selector = $(this).parent().next().next(".entirelyClickable");
                if(!selector.find(":checkbox").is(":checked")){
                    selector.click();
                }
            })
        });
     function filterJsFun(){
                //alert('hi3'+x);
                //document.getElementById('{!$Component.pageID:formID:mainpbID:EditPageBlockID}').rendered='true';
                //var myelement=document.getElementById('{!$Component.pageID.formID.mainpbID.EditPageBlockID.editTable}');
                //alert('######'+$('#editTable'));
                var options2 = {
                additionalFilterTriggers: [$('#quickfind')],
                //clearFiltersControls: [$('#cleanfilters')]
                };
                
                $('#editTable').tableFilter(options1);
                resizablejsFun();
        }
 
     function change(obj) {
            if(obj.checked){  
                        $(obj).attr("checked","checked");                    
                        $(obj).closest("tr").children('td').addClass('background');
                    }
                    else
                    {                    
                    $(obj).removeAttr("checked");  
                    $(obj).closest("tr").children('td').removeClass('background');        
                    }
            }
            
         function myfunction2()
          {
           callfunction2();
          }
        
 </script>



	<script type='text/javascript'>
       
        function setFocusOnLoad() {}
        function confirmDelete() 
        {
            var a = confirm ('Are you sure?');
            if(a == true)
                return true;
            else
                return false;
        }
        /*
        * Use the PickNet Table Filter and Sort plugins on the table.
        */
    
        function filterJsFun(){
                //alert('hi3'+x);
                //document.getElementById('{!$Component.pageID:formID:mainpbID:EditPageBlockID}').rendered='true';
                //var myelement=document.getElementById('{!$Component.pageID.formID.mainpbID.EditPageBlockID.editTable}');
                //alert('######'+$('#editTable'));
                var options2 = {
                additionalFilterTriggers: [$('#quickfind')],
                //clearFiltersControls: [$('#cleanfilters')]
                };
                
                $('#editTable').tableFilter(options1);
                resizablejsFun();
        }

        function change(obj) {
            if(obj.checked){  
                        $(obj).attr("checked","checked");                    
                        $(obj).closest("tr").children('td').addClass('background');
                    }
                    else
                    {                    
                    $(obj).removeAttr("checked");  
                    $(obj).closest("tr").children('td').removeClass('background');        
                    }
            }
        
   </script>
	<script type="text/javascript">
        function selectAllCheckboxes(obj,receivedInputID){
            var inputCheckBox = document.getElementsByTagName("input");                 
            for(var i=0; i<inputCheckBox.length; i++){          
                if(inputCheckBox[i].id.indexOf(receivedInputID)!=-1){                                   
                    inputCheckBox[i].checked = obj.checked;
                }
            }
        }
        
     function Myfunction1()
     {
     
     if(event.keyCode==13)
     {
       MyAction();
     // window.location.href = '/apex/VF_AmazonRemovalBoxReceiving';
     }
     return null; 
     } 
    </script>

	<apex:form id="frmid" onkeyup="Myfunction1();">

		<apex:pageBlock id="blckId">

			<apex:actionFunction name="MyAction" action="{!SaveOnEnter}" />

			<table
				Style="height: 80px; border-collapse: collapse; border-spacing: 0px; border-color: #000; text-align: center;"
				border="3px" bordercolor="#000000" width="1300px" class="list big">
				<thead>
					<tr>
						<th><div align="center">
								<b>Opportunity Name</b>
							</div></th>
						<th><div align="center">
								<b>Supplier</b>
							</div></th>
						<th><div align="center">
								<b>Supplier Freight Terms</b>
							</div></th>
						<th><div align="center">
								<b>Supplier Credit Amount</b>
							</div></th>
						<th><div align="center">
								<b>Total PO Quantity</b>
							</div></th>
						<th><div align="center">
								<b>Total PO Cost</b>
							</div></th>
						<th><div align="center">
								<b>Total PO Sell</b>
							</div></th>
						<th><div align="center">
								<b>Total PO Profit</b>
							</div></th>
						<th><div align="center">
								<b>Total PO Profit</b>
							</div></th>
						<th><div align="center">
								<b>Total Records</b>
							</div></th>

						<!--  Field Sets for Research Analysis  -->
								
						<apex:repeat value="{!$ObjectType.serp__Opportunity__c.FieldSets.serp__Research_Analysis}" var="fs">
							<th><div align="center">
								<b>{!fs.Label}</b>
							</div></th>
						</apex:repeat>
					</tr>
				</thead>
				<tr>
					<td class="dataCell" style="text-align: center;"><b><font size="3"><apex:outputLink value="/{!opp.Id}"
									target="_blank">{!opp.Name}</apex:outputLink></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"><apex:outputLink value="/{!opp.serp__Supplier__c}"
									target="_blank">{!opp.serp__Supplier__r.Name}</apex:outputLink></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"><apex:outputField value="{!opp.serp__Supplier_Freight_Terms__c}" /></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"><apex:outputField value="{!opp.serp__Supplier_Credit_Amount__c}" /></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputText value="{0,number,#,##0}">
									<apex:param value="{!totalQut}" />
								</apex:outputText>
								<!--<apex:outputText value="{!totalQut}"/>--></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputText value="{0,number,$#,##0.00}">
									<apex:param value="{!totalcost}" />
								</apex:outputText>
								<!--<apex:outputText value="${!totalcost}"/>--></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputText value="{0,number,$#,##0.00}">
									<apex:param value="{!totalsell}" />
								</apex:outputText>
								<!--<apex:outputText value="${!totalsell}"/>--></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputText value="{0,number,$#,##0.00}">
									<apex:param value="{!totalProfit}" />
								</apex:outputText>
								<!--<apex:outputText value="${!totalProfit}"/>--></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputText value="{!totalProfits}%" /></font></b></td>
					<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputText value="{!wrapperlist.Size}" /></font></b></td>


					<!--  Field Sets for Research Analysis  -->
							
					<apex:repeat value="{!$ObjectType.serp__Opportunity__c.FieldSets.serp__Research_Analysis}" var="fs">
						<td class="dataCell" style="text-align: center;"><b><font size="3"> <apex:outputField value="{!opp[fs]}" /></font></b></td>
					</apex:repeat>
					
				</tr>
			</table>
		</apex:pageBlock>




		<apex:pageBlock >
			<apex:pageBlockButtons location="both">
				<apex:commandButton value="Save" action="{!mySave}" />&nbsp;
				<apex:commandButton value="Remove SKU" action="{!myRemove}" /> &nbsp;
				<apex:commandButton value="Cancel" action="{!myCancel}" />
			</apex:pageBlockButtons>

			<div class="fixedheader" style="position: absolute; display: none;">

				<table class="list" style="table-layout: fixed" cellspacing="0"
					cellpadding="0">
					<thead>
						<tr>
							<th style="width: 35px"><div align="center"
									style="padding: 0px 3px 0px 0px">
									<br />Action<br />
									<br />
								</div></th>
							<th style="width: 90px"><div align="center">
									<br />Opp Res SKU<br />
									<br />
								</div></th>
							<th style="width: 90px"><div align="center">
									<br />B2C SKU<br />
									<br />
								</div></th>
							<th style="width: 50px"><div align="center"
									style="padding: 0px 8px 0px 0px">
									<br />Quantity<br />on Hand<br />
									<br />
								</div></th>
							<th style="width: 125px"><div align="center">
									<br />Title<br />
									<br />
								</div></th>
							<th style="width: 125px"><div align="center">
									<br />Amazon Title<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px">
									<br />Amazon<br />Competes<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px">
									<br />FBA<br />Competes<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center">
									<br />Sales <br />Rank<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center">
									<br />Amazon <br />Price<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center">
									<br />Cost<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center">
									<br />Lowest<br />Current<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px">
									<br />Net<br /> Margin ($)<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px">
									<br />Net<br /> Margin (%)<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									<br />Gross<br /> Margin (%)<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									<br />Supplier <br />Case Qty<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									<br />PO<br /> Quantity<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									<br />Approved<br />
									<apex:inputCheckbox onclick="selectAllCheckboxes(this,'inputId')"
										style="margin-top:5px" />
									<br />
									<br />
								</div></th>
							<th style="width: 50px"><div align="center"
									style="padding: 0px 8px 0px 0px; width: 35px">
									<br />PO <br />Cost<br />
									<br />
								</div></th>
							<th style="width: 50px"><div align="center"
									style="padding: 0px 8px 0px 0px; width: 35px">
									<br />PO <br />Sell<br />
									<br />
								</div></th>
							<th style="width: 50px"><div align="center"
									style="padding: 0px 8px 0px 0px; width: 35px">
									<br />PO<br /> Profit<br />
									<br />
								</div></th>
							<th style="width: 103px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									<br />Amazon<br />Listing<br />
									<br />
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									Customer<br />Feedback<br />Reviews
								</div></th>
							<th style="width: 60px"><div align="center"
									style="padding: 0px 8px 0px 0px;">
									Customer<br />Feedback<br />Rating
								</div></th>
						</tr>
					</thead>
				</table>
			</div>

			<table class="list tablesorter resizabletable" id="demotable1"
				cellspacing="0" cellpadding="0"
				style="overflow: auto; table-layout: fixed">
				<thead>
					<tr>
						<th style="width: 35px"><div align="center"
								style="padding: 0px 3px 0px 0px">
								<br />Action<br />
								<br />
							</div></th>
						<th style="width: 90px"><div align="center">
								<br />Opp Res SKU<br />
								<br />
							</div></th>
						<th style="width: 90px"><div align="center">
								<br />B2C SKU<br />
								<br />
							</div></th>
						<th style="width: 50px"><div align="center"
								style="padding: 0px 8px 0px 0px">
								<br />Quantity<br />on Hand<br />
								<br />
							</div></th>
						<th style="width: 125px"><div align="center">
								<br />Title<br />
								<br />
							</div></th>
						<th style="width: 125px"><div align="center">
								<br />Amazon Title<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px">
								<br />Amazon<br />Competes<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px">
								<br />FBA<br />Competes<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center">
								<br />Sales <br />Rank<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center">
								<br />Amazon <br />Price<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center">
								<br />Cost<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center">
								<br />Lowest<br />Current<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px">
								<br />Net<br /> Margin ($)<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px">
								<br />Net<br /> Margin (%)<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								<br />Gross<br /> Margin (%)<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								<br />Supplier <br />Case Qty<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								<br />PO<br /> Quantity<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								<br />Approved<br />
								<apex:inputCheckbox onclick="selectAllCheckboxes(this,'inputId')"
									style="margin-top:5px" />
								<br />
								<br />
							</div></th>
						<th style="width: 50px"><div align="center"
								style="padding: 0px 8px 0px 0px; width: 35px">
								<br />PO <br />Cost<br />
								<br />
							</div></th>
						<th style="width: 50px"><div align="center"
								style="padding: 0px 8px 0px 0px; width: 35px">
								<br />PO <br />Sell<br />
								<br />
							</div></th>
						<th style="width: 50px"><div align="center"
								style="padding: 0px 8px 0px 0px; width: 35px">
								<br />PO<br /> Profit<br />
								<br />
							</div></th>
						<th style="width: 103px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								<br />Amazon<br />Listing<br />
								<br />
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								Customer<br />Feedback<br />Reviews
							</div></th>
						<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								Customer<br />Feedback<br />Rating
							</div></th>
							
						<!--  Field Sets for Research Analysis  -->
								
						<apex:repeat value="{!$ObjectType.serp__Opportunity_Research__c.FieldSets.serp__Research_Analysis}" var="fs">
							<th style="width: 60px"><div align="center"
								style="padding: 0px 8px 0px 0px;">
								{!fs.Label}
							</div></th>
						</apex:repeat>
						
					</tr>
				</thead>
				<tbody onload="onload()">

					<apex:repeat value="{!wrapperlist}" var="item" id="repid">
						<tr id="rowId" class="dataRow"
							onmouseover="if (window.hiOn){hiOn(this);}"
							onmouseout="if (window.hiOff){hiOff(this);}">
							<td class="dataCell entirelyClickable" onclick="tdOnclick(this)"
								style="text-align: center;"><apex:inputCheckbox value="{!item.checkobj}" onclick="change(this)" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputLink value="/{!item.prsobj.ID}" target="_blank">{!item.prsobj.serp__External_Product_ID__c}</apex:outputLink></td>

							<td class="dataCell" style="text-align: center;"><apex:outputLink value="/{!item.prsobj.serp__B2C_SKU__c}" target="_blank">{!item.prsobj.B2C_SKU__r.Name}</apex:outputLink></td>

							<apex:outputPanel rendered="{!If(AND(OR(item.prsobj.B2C_SKU__r.ECS__Product_Type__c='Simple', item.prsobj.B2C_SKU__r.ECS__Product_Type__c=Null),item.prsobj.serp__B2C_SKU__c!=Null),'True','False')}">
								<td class="dataCell" style="text-align: center;">{!If(item.prsobj.B2C_SKU__r.ECS__Quantity_On_Hand__c
									!= Null, item.prsobj.B2C_SKU__r.ECS__Quantity_On_Hand__c, 0)}</td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.B2C_SKU__r.ECS__Product_Type__c='Grouped',item.prsobj.serp__B2C_SKU__c!=Null),'True','False')}">
								<td class="dataCell" style="text-align: center;">{!item.prsobj.B2C_SKU__r.ECS__Available_for_Building__c}</td>
							</apex:outputPanel>

							<apex:outputPanel rendered="{!If(item.prsobj.serp__B2C_SKU__c==Null,'True','False')}">
								<td class="dataCell" style="text-align: center;">{!item.prsobj.B2C_SKU__r.ECS__Quantity_On_Hand__c}</td>
							</apex:outputPanel>
							<td class="dataCell" style="text-align: center;"><apex:outputText value="{!item.prsobj.serp__Supplier_Title__c}" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputText value="{!item.prsobj.serp__Amazon_Title__c}" /></td>
							<!-----------------------------Code For Amazon Competes Starts----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Amazon_Competes__c='No','True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206); font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Amazon_Competes__c}" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Amazon_Competes__c='Yes','True','Flase')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Amazon_Competes__c}" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Amazon_Competes__c='Share','True','Flase')}">
								<td class="dataCell"
									style="text-align: color:rgb(156, 101, 0); background-color: rgb(255, 235, 156); font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Amazon_Competes__c}" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Amazon_Competes__c!='Yes',item.prsobj.serp__Amazon_Competes__c!='No',item.prsobj.serp__Amazon_Competes__c!='Share'),'True','Flase')}">
								<td class="dataCell"
									style="text-align: center; font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Amazon_Competes__c}" /></td>
							</apex:outputPanel>
							<!-----------------------------Code For Amazon Competes Ends----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

							<!-----------------------------Code For FBA Competes Start----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
							<apex:outputPanel rendered="{!If(item.prsobj.serp__FBA_Competes__c='No','True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206); font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__FBA_Competes__c}" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__FBA_Competes__c='Yes','True','Flase')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__FBA_Competes__c}" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__FBA_Competes__c!='Yes',item.prsobj.serp__FBA_Competes__c!='No'),'True','Flase')}">
								<td class="dataCell"
									style="text-align: center; font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__FBA_Competes__c}" /></td>
							</apex:outputPanel>
							<!-----------------------------Code For FBA Competes Ends----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

							<td class="dataCell" style="text-align: center;"><apex:inputField value="{!item.prsobj.serp__Sales_Rank__c}"
									style="width:60px;text-align: center;">
								</apex:inputField></td>
							<td class="dataCell" style="text-align: center;"><apex:inputField value="{!item.prsobj.serp__Amazon_Current_Price__c}"
									style="width:60px;text-align: center;">
								</apex:inputField></td>
							<td class="dataCell" style="text-align: center;"><apex:inputText value="{!item.prsobj.serp__Cost_w_Discount__c}"
									style="width:60px;text-align: center;">
								</apex:inputText></td>
							<!-----------------------------------------Design Implimentation for  Lowest Current Value--------------------------------------->
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Lowest_Current__c==Null,'True','False')}">
								<td class="dataCell"
									style="text-align: center; border-right: none !important; font-size: 13px; font-weight: bold"><apex:inputField value="{!item.prsobj.serp__Lowest_Current__c}"
										style="width:60px;text-align: center;"></apex:inputField></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__B2C_SKU__c !=Null,item.prsobj.B2C_SKU__r.ECS__Store_Price__c!=Null,item.prsobj.serp__Lowest_Current__c!=Null,item.prsobj.B2C_SKU__r.ECS__Store_Price__c < item.prsobj.serp__Lowest_Current__c),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:inputField value="{!item.prsobj.serp__Lowest_Current__c}"
										style="width:60px;text-align: center;"></apex:inputField></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__B2C_SKU__c !=Null,item.prsobj.B2C_SKU__r.ECS__Store_Price__c!=Null,item.prsobj.serp__Lowest_Current__c!=Null,item.prsobj.B2C_SKU__r.ECS__Store_Price__c >= item.prsobj.serp__Lowest_Current__c),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:inputField value="{!item.prsobj.serp__Lowest_Current__c}"
										style="width:60px;text-align: center;"></apex:inputField></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__B2C_SKU__c !=Null,item.prsobj.B2C_SKU__r.ECS__Store_Price__c==Null,item.prsobj.serp__Lowest_Current__c!=Null),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:inputField value="{!item.prsobj.serp__Lowest_Current__c}"
										style="width:60px;text-align: center;"></apex:inputField></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__B2C_SKU__c ==Null,'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 101, 0); background-color: rgb(255, 235, 156); border-right: none !important; font-size: 13px; font-weight: bold"><apex:inputField value="{!item.prsobj.serp__Lowest_Current__c}"
										style="width:60px;text-align: center;"></apex:inputField></td>
							</apex:outputPanel>

							<!-----------------------------Code For Net Margin ($) Starts----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Net_M__c !=Null,item.prsobj.serp__Margin_Net_M__c < 1.5),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); border-right: none !important; font-size: 13px; font-weight: bold"><b><apex:outputField value="{!item.prsobj.serp__Margin_Net_M__c}" /></b></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Net_M__c !=Null,item.prsobj.serp__Margin_Net_M__c >= 1.5,item.prsobj.serp__Margin_Net_M__c <= 3.5),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 101, 0); background-color: rgb(255, 235, 156); border-right: none !important; font-size: 13px; font-weight: bold"><b><apex:outputField value="{!item.prsobj.serp__Margin_Net_M__c}" /></b></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Net_M__c !=Null,item.prsobj.serp__Margin_Net_M__c > 3.5),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206); border-right: none !important; font-size: 13px; font-weight: bold"><b><apex:outputField value="{!item.prsobj.serp__Margin_Net_M__c}" /></b></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Margin_Net_M__c ==Null,'True','False')}">
								<td class="dataCell"
									style="text-align: center; border-right: none !important; font-size: 13px; font-weight: bold"><b><apex:outputField value="{!item.prsobj.serp__Margin_Net_M__c}" /></b></td>
							</apex:outputPanel>
							<!-----------------------------Code For Net Margin ($) Ends----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->


							<!--- <td class="dataCell" style="text-align: center;border-left:none !important"><apex:outputText value="{!item.prsobj.Net_Margin_Img__c}" escape="false" /> </td>
        
         <td class="dataCell" style="text-align: center;border-right:none !important"><apex:outputText escape="false" value="<b>{!item.prsobj.serp__Margin_Net__c}%</b>" /> </td>---->
							<!-----------------------------Code For Net Margin (%) Starts----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Net__c!=Null,item.prsobj.serp__Margin_Net__c<  10),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText escape="false" value="<b>{!item.prsobj.serp__Margin_Net__c}%</b>" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Net__c!=Null,item.prsobj.serp__Margin_Net__c>=  10,item.prsobj.serp__Margin_Net__c<= 20),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 101, 0); background-color: rgb(255, 235, 156); border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText escape="false" value="<b>{!item.prsobj.serp__Margin_Net__c}%</b>" />
								</td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Net__c!=Null,item.prsobj.serp__Margin_Net__c> 20),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText escape="false" value="<b>{!item.prsobj.serp__Margin_Net__c}%</b>" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Margin_Net__c==Null,'True','False')}">
								<td class="dataCell"
									style="text-align: center; border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText escape="false" value="<b>{!item.prsobj.serp__Margin_Net__c}%</b>" /></td>
							</apex:outputPanel>
							<!-----------------------------Code For Net Margin (%) Ends----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

							<!---   <td class="dataCell" style="text-align: center;border-left:none !important"><apex:outputText value="{!item.prsobj.Net_Margin_Img_P__c}" escape="false"/> </td>
         <td class="dataCell" style="text-align: center;border-right:none !important;"><apex:outputText value="{!item.prsobj.serp__Margin_Gross__c}%" /> </td>----->

							<!-----------------------------Code For Gross Margin (%) Starts----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Margin_Gross__c==Null,'True','False')}">
								<td class="dataCell"
									style="text-align: center; border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Margin_Gross__c}" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Gross__c!=Null,item.prsobj.serp__Margin_Gross__c< 30),'True','False')}">
								<td class="dataCell"
									style="text-align: center; center; color: rgb(156, 0, 6); background-color: rgb(255, 199, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Margin_Gross__c}%" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Gross__c!=Null,item.prsobj.serp__Margin_Gross__c>=  30,item.prsobj.serp__Margin_Gross__c <= 40),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(156, 101, 0); background-color: rgb(255, 235, 156); border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Margin_Gross__c}%" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(AND(item.prsobj.serp__Margin_Gross__c!=Null,item.prsobj.serp__Margin_Gross__c> 40),'True','False')}">
								<td class="dataCell"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206); border-right: none !important; font-size: 13px; font-weight: bold"><apex:outputText value="{!item.prsobj.serp__Margin_Gross__c}%" /></td>
							</apex:outputPanel>

							<!-----------------------------Code For Gross Margin (%) Ends----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

							<!---  <td class="dataCell" style="text-align: center;border-left:none !important"><apex:outputText value="{!item.prsobj.Gross_Margin_Img__c}" escape="false" /> </td>----->
							<td class="dataCell" style="text-align: center;"><apex:inputText value="{!item.prsobj.serp__Supplier_Case_Qty__c}"
									style="width:60px;text-align: center;">
								</apex:inputText></td>
							<td class="dataCell POQContainer" style="text-align: center;"><apex:inputText value="{!item.prsobj.serp__PO_Quantity__c}"
									style="width:60px;text-align: center;">
								</apex:inputText></td>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Approved__c =True,'True','False')}">
								<td class="dataCell entirelyClickable" onclick="tdOnclick(this)"
									style="text-align: center; color: rgb(0, 97, 0); background-color: rgb(198, 239, 206);"><apex:InputField value="{!item.prsobj.serp__Approved__c}" id="inputId" /></td>
							</apex:outputPanel>
							<apex:outputPanel rendered="{!If(item.prsobj.serp__Approved__c =False,'True','False')}">
								<td class="dataCell entirelyClickable" onclick="tdOnclick(this)"
									style="text-align: center;"><apex:InputField value="{!item.prsobj.serp__Approved__c}" id="inputId2" /></td>
							</apex:outputPanel>
							<td class="dataCell" style="text-align: center;"><apex:outputField value="{!item.prsobj.serp__PO_Cost__c}"
									style="width:75px;text-align: center;" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputField value="{!item.prsobj.serp__PO_Sell__c}"
									style="width:75px;text-align: center;" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputField value="{!item.prsobj.serp__PO_Profit__c}"
									style="width:75px;text-align: center;" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputText value="{!item.prsobj.serp__Amazon_Listing__c}" escape="false" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputText value="{!item.prsobj.serp__Customer_Feedback_Reviews__c}" /></td>
							<td class="dataCell" style="text-align: center;"><apex:outputText value="{!item.prsobj.serp__Customer_Feedback_Rating__c}" /></td>
							
						
							<!--  Field Sets for Research Analysis  -->
							
							<apex:repeat value="{!$ObjectType.serp__Opportunity_Research__c.FieldSets.serp__Research_Analysis}" var="fs">
								<td class="dataCell" style="text-align: center;"><apex:outputField value="{!item.prsobj[fs]}" /></td>
						    </apex:repeat>
							
						</tr>
					</apex:repeat>

				</tbody>
			</table>

		</apex:pageBlock>
	</apex:form>
</apex:page>